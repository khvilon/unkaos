FROM node:23-alpine

WORKDIR /app/gateway

# Копируем сначала только файлы для установки зависимостей
COPY ./server/gateway/package.json .
RUN yarn install

# Затем копируем остальные файлы
COPY ./server/gateway .

USER node

CMD [ "npx", "ts-node", "index.ts" ]
