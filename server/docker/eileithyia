FROM node:23-alpine

WORKDIR /app/eileithyia

# Копируем сначала только файлы для установки зависимостей
COPY ./server/eileithyia/package.json .
RUN yarn install

# Затем копируем остальные файлы
COPY ./server/eileithyia .
COPY ./README.md /app/README.md
COPY ./README_RU.md /app/README_RU.md
COPY ./LICENSE /app/LICENSE
COPY ./meta.json /app/meta.json

USER node

CMD [ "npx", "ts-node", "index.ts" ]
